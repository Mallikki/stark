<div class="header">
	<h1 mat-dialog-title>Multi-Column Sorting </h1>
	<button mat-mini-fab mat-icon-button color="primary" (click)="onAdd()" [disabled]="isAddDisabled">
		<mat-icon svgIcon="playlist-plus" matTooltip="Add sorting rule"></mat-icon>
	</button>
</div>
<div mat-dialog-content>
	<div class="rules">
		<div *ngFor="let rule of rules; trackBy: trackRuleFn">
			<div class="rule" *ngIf="rule.sortDirection">
				<span>Sort by</span>
				<mat-form-field class="form-field-name">
					<mat-select [value]="rule" (selectionChange)="onColumnChange(rule, $event.value)">
						<ng-container *ngFor="let ruleOption of rules; trackBy: trackRuleFn">
							<mat-option *ngIf="ruleOption==rule || !ruleOption.sortDirection" [value]="ruleOption">{{ ruleOption.column.name }}</mat-option>
						</ng-container>
					</mat-select>
				</mat-form-field>
				<mat-form-field class="form-field-order">
					<mat-select [(ngModel)]="rule.sortDirection">
						<mat-option value="asc">asc</mat-option>
						<mat-option value="desc">desc</mat-option>
					</mat-select>
				</mat-form-field>
				<button (click)="onDelete(rule)" mat-icon-button>
					<mat-icon svgIcon="delete" matTooltip="Remove sorting rule"></mat-icon>
				</button>
			</div>
		</div>
	</div>
</div>
<div mat-dialog-actions>
	<button mat-raised-button (click)="onCancel()">Cancel</button>
	<button mat-raised-button color="primary" (click)="onSave()">Save</button>
</div>
